(function(t){function e(e){for(var a,i,o=e[0],u=e[1],c=e[2],p=0,d=[];p<o.length;p++)i=o[p],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&d.push(n[i][0]),n[i]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(t[a]=u[a]);l&&l(e);while(d.length)d.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],a=!0,o=1;o<r.length;o++){var u=r[o];0!==n[u]&&(a=!1)}a&&(s.splice(e--,1),t=i(i.s=r[0]))}return t}var a={},n={app:0},s=[];function i(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=a,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(r,a,function(e){return t[e]}.bind(null,a));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var l=u;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},2693:function(t,e,r){t.exports=r.p+"img/parser-gaode.da3d72c4.png"},"564b":function(t,e,r){t.exports=r.p+"img/parser-baidu.971d9867.png"},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app",attrs:{id:"app"}},[r("Home")],1)},s=[],i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"home"},[t._m(0),r("div",{staticClass:"home__content"},[r("el-form",{ref:"form",staticClass:"form",attrs:{model:t.form,rules:t.formRules,"label-width":"100px"}},[r("el-form-item",{staticClass:"form__input",attrs:{label:"经纬度：",prop:"inputStr"}},[r("el-input",{attrs:{type:"textarea",autosize:{minRows:8,maxRows:12},placeholder:"每个地址的经纬度占一行，格式：经度,纬度\n例如：116.43213,38.76623"},model:{value:t.form.inputStr,callback:function(e){t.$set(t.form,"inputStr","string"===typeof e?e.trim():e)},expression:"form.inputStr"}})],1),r("el-form-item",{staticClass:"form__select",attrs:{label:"转换器：",prop:"parser"}},[r("div",{staticClass:"flex"},[r("el-select",{attrs:{placeholder:"请选择转换器"},model:{value:t.form.parser,callback:function(e){t.$set(t.form,"parser",e)},expression:"form.parser"}},t._l(t.parsers,(function(e){return r("el-option",{key:e.value,staticStyle:{display:"flex","align-items":"center"},attrs:{label:e.label,value:e.value}},[r("img",{staticStyle:{width:"14px",height:"14px"},attrs:{src:e.icon}}),r("span",{staticStyle:{"margin-left":"6px"}},[t._v(t._s(e.label))])])})),1),r("div",{staticClass:"btn__wrapper"},[r("el-button",{staticClass:"btn",attrs:{type:"primary",loading:t.isLoading},on:{click:t.submit}},[t._v("转换 ")])],1)],1)])],1),r("div",{staticClass:"input"},[r("input",{staticClass:"hidden",attrs:{type:"text",id:"addressList"},domProps:{value:t.addressList}})]),r("div",{staticClass:"output"},[r("div",{staticClass:"output__label el-form-item__label"},[t._v("结果：")]),r("div",{staticClass:"flex flex-1"},[r("el-input",{staticClass:"output__textarea",attrs:{type:"textarea",autosize:{minRows:8,maxRows:12},value:t.addressListStr,readonly:""}}),r("div",{staticClass:"btn__wrapper"},[r("el-button",{staticClass:"btn",attrs:{type:"primary",id:"btn-copy","data-clipboard-target":".output__textarea textarea"}},[t._v(" 复制 ")])],1)],1)])],1),r("div",{staticClass:"home__footer"},[t._v("©2022 玛尔斯通  ")])])},o=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"home__header"},[r("h1",{staticClass:"home__title"},[t._v("经纬度 "),r("i",{staticClass:"el-icon-right"}),t._v(" 地址")])])}],u=r("4478"),c=r("1da1"),l=r("3835"),p=(r("96cf"),r("ac1f"),r("1276"),r("d3b7"),r("9129"),r("a9e3"),r("d9e2"),r("a15b"),r("d81d"),r("3ca3"),r("ddb0"),r("b311")),d=r.n(p),f={name:"Home",components:{},data:function(){var t=this,e=function(e,r,a){if(r){var n=t.form.inputStr.split("\n"),s=n.every((function(t){var e=t.split(","),r=Object(l["a"])(e,2),a=r[0],n=r[1];return""!==a&&""!==n&&!Number.isNaN(Number(a))&&!Number.isNaN(Number(n))}));if(!s)return a(new Error("格式错误，请检查格式"));a()}};return{form:{parser:"gaode",inputStr:""},formRules:{inputStr:[{required:!0,message:"请输入经纬度",trigger:"blur"},{validator:e,trigger:["blur","change"]}],parser:[{required:!0,message:"请选择转换器",trigger:["blur","change"]}]},parsers:[{label:"高德地图",value:"gaode",icon:r("2693")},{label:"百度地图",value:"baidu",icon:r("564b")}],addressList:[],isLoading:!1}},computed:{addressListStr:function(){var t;return 0===(null===(t=this.addressList)||void 0===t?void 0:t.length)?"":this.addressList.join("\n")}},mounted:function(){this.init()},methods:{init:function(){this.initBMap(),this.initClipboard()},initBMap:function(){this.$baiduGeo=new BMapGL.Geocoder({extensions_town:!0}),this.$gaodeGeo=new AMap.Geocoder({radius:3e3})},initClipboard:function(){var t=this;this.$clipboard=new d.a("#btn-copy"),this.$clipboard.on("success",(function(e){e.clearSelection(),t.$message.success("复制成功")})),this.$clipboard.on("error",(function(){t.$message.error("复制失败")}))},submit:function(){var t=this;this.addressList=[],this.$refs.form.validate(function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,r){e.next=3;break}return e.abrupt("return");case 3:return t.isLoading=!0,a=t.form.inputStr.split("\n").map((function(t){var e=t.split(","),r=Object(l["a"])(e,2),a=r[0],n=r[1];return{lng:a,lat:n}})),e.next=7,t.getAddressList(a);case 7:n=e.sent,t.addressList=n,e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](0),console.error(e.t0),t.$message.error(e.t0.message);case 15:return e.prev=15,t.isLoading=!1,e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,11,15,18]])})));return function(t){return e.apply(this,arguments)}}())},getAddressList:function(t){var e=this,r=t.map((function(t){return e.getAddress(t)}));return Promise.all(r)},getAddress:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.lng,n=t.lat,r.abrupt("return",new Promise((function(t,r){if("baidu"===e.form.parser){var s=[Number(a),Number(n)];e.$baiduGeo.getLocation(Object(u["a"])(BMapGL.Point,s),(function(e){e&&t(e.address),r(new Error("根据经纬度查询地址失败"))}))}if("gaode"===e.form.parser){var i=e;AMap.plugin("AMap.Geocoder",(function(){var e=[a,n];i.$gaodeGeo.getAddress(e,(function(e,a){"complete"===e&&"OK"===a.info&&t(a.regeocode.formattedAddress),r(new Error("根据经纬度查询地址失败"))}))}))}})));case 2:case"end":return r.stop()}}),r)})))()}}},m=f,b=(r("c922"),r("2877")),v=Object(b["a"])(m,i,o,!1,null,"a9d82014",null),g=v.exports,h={name:"App",components:{Home:g}},_=h,y=(r("5c0b"),Object(b["a"])(_,n,s,!1,null,null,null)),x=y.exports,w=(r("fb98"),r("0fb7"),r("450d"),r("f529")),C=r.n(w),O=(r("6611"),r("e772")),S=r.n(O),L=(r("1f1a"),r("4e4b")),$=r.n(L),j=(r("0c67"),r("299c")),k=r.n(j),M=(r("10cb"),r("f3ad")),P=r.n(M),A=(r("1951"),r("eedf")),N=r.n(A),R=(r("fd71"),r("a447")),G=r.n(R),E=(r("eca7"),r("3787")),B=r.n(E),H=(r("425f"),r("4105")),T=r.n(H),q=(r("aaa5"),r("a578")),z=r.n(q);r("159b"),r("0fae");[z.a,T.a,B.a,G.a,N.a,P.a,k.a,$.a,S.a].forEach((function(t){return a["default"].use(t)})),a["default"].prototype.$message=C.a,a["default"].config.productionTip=!1,new a["default"]({render:function(t){return t(x)}}).$mount("#app")},"5c0b":function(t,e,r){"use strict";r("6605")},6605:function(t,e,r){},c922:function(t,e,r){"use strict";r("d8a2")},d8a2:function(t,e,r){},fb98:function(t,e,r){}});
//# sourceMappingURL=app-legacy.13883f4f.js.map